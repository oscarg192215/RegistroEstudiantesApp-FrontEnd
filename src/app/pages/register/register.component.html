<div class="form-container">
  <div class="card">
    <h2>Crear Cuenta Estudiante</h2>
    <form [formGroup]="registerForm" (ngSubmit)="onRegister()">

      <mat-form-field appearance="outline" class="field-block">
        <mat-label>Nombre</mat-label>
        <input matInput formControlName="nombre" required>
        <mat-error *ngIf="registerForm.get('nombre')?.hasError('required')">
          Nombre es obligatorio
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="field-block">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" type="email" required>
        <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
          Email es obligatorio
        </mat-error>
        <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
          Email no válido
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="field-block">
        <mat-label>Contraseña</mat-label>
        <input matInput formControlName="password" type="password" required>
        <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
          Contraseña es obligatoria
        </mat-error>
        <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
          Mínimo 6 caracteres
        </mat-error>
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit" class="btn-full"
        [disabled]="registerForm.invalid || cargando">
        <ng-container *ngIf="!cargando; else loading">
          Registrarme
        </ng-container>
        <ng-template #loading>
          <div class="loading">
            <mat-spinner [diameter]="24" strokeWidth="3"></mat-spinner>
            <p>Registrando...</p>
          </div>
        </ng-template>
      </button>

    </form>

    <p class="redirect">
      ¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión</a>
    </p>
  </div>
</div>